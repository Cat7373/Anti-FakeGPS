import{i as Qe,o as tn,c as V,r as L,a as ge,b as Ce,n as se,d as et,e as ze,f as Vn,w as X,g as $e,p as tt,u as Me,h as Hn,j as d,k as ee,m as me,l as Ct,T as nn,q as Tt,v as It,s as Gn,F as an,t as Yn,x as Kn,y as Wn,z as jn,A as Un,B as on,C as qn,D as Xn,E as Zn,G as Jn,H as Qn,I as ei,J as be,K as nt,L as ti}from"./index-cIrlAMEV.js";function mt(){}const re=Object.assign,Fe=typeof window<"u",Ve=e=>e!==null&&typeof e=="object",ie=e=>e!=null,Ne=e=>typeof e=="function",ln=e=>Ve(e)&&Ne(e.then)&&Ne(e.catch),sn=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),ni=()=>Fe?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Dt(e,t){const n=t.split(".");let a=e;return n.forEach(o=>{var i;a=Ve(a)&&(i=a[o])!=null?i:""}),a}function Ze(e,t,n){return t.reduce((a,o)=>(a[o]=e[o],a),{})}const At=e=>Array.isArray(e)?e:[e],fe=null,Y=[Number,String],Q={type:Boolean,default:!0},ct=e=>({type:e,required:!0}),ve=e=>({type:Y,default:e}),Z=e=>({type:String,default:e});var Oe=typeof window<"u";function Le(e){return Oe?requestAnimationFrame(e):-1}function rn(e){Oe&&cancelAnimationFrame(e)}function De(e){Le(()=>Le(e))}var ii=e=>e===window,Mt=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Se=e=>{const t=Me(e);if(ii(t)){const n=t.innerWidth,a=t.innerHeight;return Mt(n,a)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Mt(0,0)};function it(e){const t=Qe(e,null);if(t){const n=$e(),{link:a,unlink:o,internalChildren:i}=t;a(n),tn(()=>o(n));const c=V(()=>i.indexOf(n));return{parent:t,index:c}}return{parent:null,index:L(-1)}}function ai(e){const t=[],n=a=>{Array.isArray(a)&&a.forEach(o=>{var i;Hn(o)&&(t.push(o),(i=o.component)!=null&&i.subTree&&(t.push(o.component.subTree),n(o.component.subTree.children)),o.children&&n(o.children))})};return n(e),t}var Nt=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(a=>t.key!==void 0&&t.key!==null&&a.type===t.type&&a.key===t.key):n};function oi(e,t,n){const a=ai(e.subTree.children);n.sort((i,c)=>Nt(a,i.vnode)-Nt(a,c.vnode));const o=n.map(i=>i.proxy);t.sort((i,c)=>{const s=o.indexOf(i),r=o.indexOf(c);return s-r})}function $t(e){const t=ge([]),n=ge([]),a=$e();return{children:t,linkChildren:i=>{tt(e,Object.assign({link:r=>{r.proxy&&(n.push(r),t.push(r.proxy),oi(a,t,n))},unlink:r=>{const u=n.indexOf(r);t.splice(u,1),n.splice(u,1)},children:t,internalChildren:n},i))}}}function at(e){let t;Ce(()=>{e(),se(()=>{t=!0})}),et(()=>{t&&e()})}function ke(e,t,n={}){if(!Oe)return;const{target:a=window,passive:o=!1,capture:i=!1}=n;let c=!1,s;const r=h=>{if(c)return;const g=Me(h);g&&!s&&(g.addEventListener(e,t,{capture:i,passive:o}),s=!0)},u=h=>{if(c)return;const g=Me(h);g&&s&&(g.removeEventListener(e,t,i),s=!1)};tn(()=>u(a)),ze(()=>u(a)),at(()=>r(a));let f;return Vn(a)&&(f=X(a,(h,g)=>{u(g),r(h)})),()=>{f==null||f(),u(a),c=!0}}var Ye,ut;function li(){if(!Ye&&(Ye=L(0),ut=L(0),Oe)){const e=()=>{Ye.value=window.innerWidth,ut.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Ye,height:ut}}var si=/scroll|auto|overlay/i,cn=Oe?window:void 0;function ri(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function un(e,t=cn){let n=e;for(;n&&n!==t&&ri(n);){const{overflowY:a}=window.getComputedStyle(n);if(si.test(a))return n;n=n.parentNode}return t}function dn(e,t=cn){const n=L();return Ce(()=>{e.value&&(n.value=un(e.value,t))}),n}var Ke;function ci(){if(!Ke&&(Ke=L("visible"),Oe)){const e=()=>{Ke.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Ke}var fn=Symbol("van-field");function ui(e){const t=Qe(fn,null);t&&!t.customValue.value&&(t.customValue.value=e,X(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function xt(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function bt(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Et(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function _t(e){bt(window,e),bt(document.body,e)}function Lt(e,t){if(e===window)return 0;const n=t?xt(t):Et();return Se(e).top+n}const di=ni();function fi(){di&&_t(Et())}const hi=e=>e.stopPropagation();function Te(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&hi(e)}function Re(e){const t=Me(e);if(!t)return!1;const n=window.getComputedStyle(t),a=n.display==="none",o=t.offsetParent===null&&n.position!=="fixed";return a||o}const{width:He,height:ot}=li();function le(e){if(ie(e))return sn(e)?`${e}px`:String(e)}function vi(e){if(ie(e)){if(Array.isArray(e))return{width:le(e[0]),height:le(e[1])};const t=le(e);return{width:t,height:t}}}function hn(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let dt;function gi(){if(!dt){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;dt=parseFloat(t)}return dt}function mi(e){return e=e.replace(/rem/g,""),+e*gi()}function bi(e){return e=e.replace(/vw/g,""),+e*He.value/100}function yi(e){return e=e.replace(/vh/g,""),+e*ot.value/100}function vn(e){if(typeof e=="number")return e;if(Fe){if(e.includes("rem"))return mi(e);if(e.includes("vw"))return bi(e);if(e.includes("vh"))return yi(e)}return parseFloat(e)}const wi=/-(\w)/g,gn=e=>e.replace(wi,(t,n)=>n.toUpperCase()),ft=(e,t,n)=>Math.min(Math.max(e,t),n);function Rt(e,t,n){const a=e.indexOf(t);return a===-1?e:t==="-"&&a!==0?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(n,"")}function Si(e,t=!0,n=!0){t?e=Rt(e,".",/\./g):e=e.split(".")[0],n?e=Rt(e,"-",/-/g):e=e.replace(/-/,"");const a=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(a,"")}const{hasOwnProperty:Ci}=Object.prototype;function Ti(e,t,n){const a=t[n];ie(a)&&(!Ci.call(e,n)||!Ve(a)?e[n]=a:e[n]=mn(Object(e[n]),a))}function mn(e,t){return Object.keys(t).forEach(n=>{Ti(e,t,n)}),e}var Ii={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const zt=L("zh-CN"),Ft=ge({"zh-CN":Ii}),$i={messages(){return Ft[zt.value]},use(e,t){zt.value=e,this.add({[e]:t})},add(e={}){mn(Ft,e)}};var xi=$i;function Ei(e){const t=gn(e)+".";return(n,...a)=>{const o=xi.messages(),i=Dt(o,t+n)||Dt(o,n);return Ne(i)?i(...a):i}}function yt(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,a)=>n+yt(e,a),""):Object.keys(t).reduce((n,a)=>n+(t[a]?yt(e,a):""),""):""}function _i(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${yt(t,n)}`)}function J(e){const t=`van-${e}`;return[t,_i(t),Ei(t)]}const lt="van-hairline",Oi=`${lt}--top`,ki=`${lt}--left`,Bi=`${lt}--surround`,bn=`${lt}--top-bottom`,pi="van-haptics-feedback",Pi=Symbol("van-form"),Vt=5;function Ot(e,{args:t=[],done:n,canceled:a,error:o}){if(e){const i=e.apply(null,t);ln(i)?i.then(c=>{c?n():a&&a()}).catch(o||mt):i?n():a&&a()}else n()}function ae(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(gn(`-${n}`),e))},e}const yn=Symbol();function kt(e){const t=Qe(yn,null);t&&X(t,n=>{n&&e()})}const Di=(e,t)=>{const n=L(),a=()=>{n.value=Se(e).height};return Ce(()=>{se(a);for(let o=1;o<=3;o++)setTimeout(a,100*o)}),kt(()=>se(a)),X([He,ot],a),n};function Ai(e,t){const n=Di(e);return a=>d("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[a()])}const[wn,Ht]=J("action-bar"),Sn=Symbol(wn),Mi={placeholder:Boolean,safeAreaInsetBottom:Q};var Ni=ee({name:wn,props:Mi,setup(e,{slots:t}){const n=L(),a=Ai(n,Ht),{linkChildren:o}=$t(Sn);o();const i=()=>{var c;return d("div",{ref:n,class:[Ht(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(c=t.default)==null?void 0:c.call(t)])};return()=>e.placeholder?a(i):i()}});const Li=ae(Ni);function we(e){const t=$e();t&&re(t.proxy,e)}const st={to:[String,Object],url:String,replace:Boolean};function Cn({to:e,url:t,replace:n,$router:a}){e&&a?a[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Bt(){const e=$e().proxy;return()=>Cn(e)}const[Ri,Gt]=J("badge"),zi={dot:Boolean,max:Y,tag:Z("div"),color:String,offset:Array,content:Y,showZero:Q,position:Z("top-right")};var Fi=ee({name:Ri,props:zi,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:s,showZero:r}=e;return ie(s)&&s!==""&&(r||s!==0&&s!=="0")},a=()=>{const{dot:s,max:r,content:u}=e;if(!s&&n())return t.content?t.content():ie(r)&&sn(u)&&+u>+r?`${r}+`:u},o=s=>s.startsWith("-")?s.replace("-",""):`-${s}`,i=V(()=>{const s={background:e.color};if(e.offset){const[r,u]=e.offset,{position:f}=e,[h,g]=f.split("-");t.default?(typeof u=="number"?s[h]=le(h==="top"?u:-u):s[h]=h==="top"?le(u):o(u),typeof r=="number"?s[g]=le(g==="left"?r:-r):s[g]=g==="left"?le(r):o(r)):(s.marginTop=le(u),s.marginLeft=le(r))}return s}),c=()=>{if(n()||e.dot)return d("div",{class:Gt([e.position,{dot:e.dot,fixed:!!t.default}]),style:i.value},[a()])};return()=>{if(t.default){const{tag:s}=e;return d(s,{class:Gt("wrapper")},{default:()=>[t.default(),c()]})}return c()}}});const Tn=ae(Fi);let Vi=2e3;const Hi=()=>++Vi,[Gi,Ho]=J("config-provider"),Yi=Symbol(Gi),[Ki,Yt]=J("icon"),Wi=e=>e==null?void 0:e.includes("/"),ji={dot:Boolean,tag:Z("i"),name:String,size:Y,badge:Y,color:String,badgeProps:Object,classPrefix:String};var Ui=ee({name:Ki,props:ji,setup(e,{slots:t}){const n=Qe(Yi,null),a=V(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Yt());return()=>{const{tag:o,dot:i,name:c,size:s,badge:r,color:u}=e,f=Wi(c);return d(Tn,me({dot:i,tag:o,class:[a.value,f?"":`${a.value}-${c}`],style:{color:u,fontSize:le(s)},content:r},e.badgeProps),{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t),f&&d("img",{class:Yt("image"),src:c},null)]}})}}});const Ie=ae(Ui),[qi,Ae]=J("loading"),Xi=Array(12).fill(null).map((e,t)=>d("i",{class:Ae("line",String(t+1))},null)),Zi=d("svg",{class:Ae("circular"),viewBox:"25 25 50 50"},[d("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Ji={size:Y,type:Z("circular"),color:String,vertical:Boolean,textSize:Y,textColor:String};var Qi=ee({name:qi,props:Ji,setup(e,{slots:t}){const n=V(()=>re({color:e.color},vi(e.size))),a=()=>{const i=e.type==="spinner"?Xi:Zi;return d("span",{class:Ae("spinner",e.type),style:n.value},[t.icon?t.icon():i])},o=()=>{var i;if(t.default)return d("span",{class:Ae("text"),style:{fontSize:le(e.textSize),color:(i=e.textColor)!=null?i:e.color}},[t.default()])};return()=>{const{type:i,vertical:c}=e;return d("div",{class:Ae([i,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[a(),o()])}}});const In=ae(Qi),[ea,xe]=J("button"),ta=re({},st,{tag:Z("button"),text:String,icon:String,type:Z("default"),size:Z("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Z("button"),loadingSize:Y,loadingText:String,loadingType:String,iconPosition:Z("left")});var na=ee({name:ea,props:ta,emits:["click"],setup(e,{emit:t,slots:n}){const a=Bt(),o=()=>n.loading?n.loading():d(In,{size:e.loadingSize,type:e.loadingType,class:xe("loading")},null),i=()=>{if(e.loading)return o();if(n.icon)return d("div",{class:xe("icon")},[n.icon()]);if(e.icon)return d(Ie,{name:e.icon,class:xe("icon"),classPrefix:e.iconPrefix},null)},c=()=>{let u;if(e.loading?u=e.loadingText:u=n.default?n.default():e.text,u)return d("span",{class:xe("text")},[u])},s=()=>{const{color:u,plain:f}=e;if(u){const h={color:f?u:"white"};return f||(h.background=u),u.includes("gradient")?h.border=0:h.borderColor=u,h}},r=u=>{e.loading?Te(u):e.disabled||(t("click",u),a())};return()=>{const{tag:u,type:f,size:h,block:g,round:x,plain:I,square:A,loading:S,disabled:O,hairline:_,nativeType:j,iconPosition:K}=e,G=[xe([f,h,{plain:I,block:g,round:x,square:A,loading:S,disabled:O,hairline:_}]),{[Bi]:_}];return d(u,{type:j,class:G,style:s(),disabled:O,onClick:r},{default:()=>[d("div",{class:xe("content")},[K==="left"&&i(),c(),K==="right"&&i()])]})}}});const Je=ae(na),[ia,aa]=J("action-bar-button"),oa=re({},st,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var la=ee({name:ia,props:oa,setup(e,{slots:t}){const n=Bt(),{parent:a,index:o}=it(Sn),i=V(()=>{if(a){const s=a.children[o.value-1];return!(s&&"isButton"in s)}}),c=V(()=>{if(a){const s=a.children[o.value+1];return!(s&&"isButton"in s)}});return we({isButton:!0}),()=>{const{type:s,icon:r,text:u,color:f,loading:h,disabled:g}=e;return d(Je,{class:aa([s,{last:c.value,first:i.value}]),size:"large",type:s,icon:r,color:f,loading:h,disabled:g,onClick:n},{default:()=>[t.default?t.default():u]})}}});const Kt=ae(la),rt={show:Boolean,zIndex:Y,overlay:Q,duration:Y,teleport:[String,Object],lockScroll:Q,lazyRender:Q,beforeClose:Function,overlayStyle:Object,overlayClass:fe,transitionAppear:Boolean,closeOnClickOverlay:Q},sa=Object.keys(rt);function ra(e,t){return e>t?"horizontal":t>e?"vertical":""}function $n(){const e=L(0),t=L(0),n=L(0),a=L(0),o=L(0),i=L(0),c=L(""),s=L(!0),r=()=>c.value==="vertical",u=()=>c.value==="horizontal",f=()=>{n.value=0,a.value=0,o.value=0,i.value=0,c.value="",s.value=!0};return{move:x=>{const I=x.touches[0];n.value=(I.clientX<0?0:I.clientX)-e.value,a.value=I.clientY-t.value,o.value=Math.abs(n.value),i.value=Math.abs(a.value);const A=10;(!c.value||o.value<A&&i.value<A)&&(c.value=ra(o.value,i.value)),s.value&&(o.value>Vt||i.value>Vt)&&(s.value=!1)},start:x=>{f(),e.value=x.touches[0].clientX,t.value=x.touches[0].clientY},reset:f,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:o,offsetY:i,direction:c,isVertical:r,isHorizontal:u,isTap:s}}let Be=0;const Wt="van-overflow-hidden";function ca(e,t){const n=$n(),a="01",o="10",i=f=>{n.move(f);const h=n.deltaY.value>0?o:a,g=un(f.target,e.value),{scrollHeight:x,offsetHeight:I,scrollTop:A}=g;let S="11";A===0?S=I>=x?"00":"01":A+I>=x&&(S="10"),S!=="11"&&n.isVertical()&&!(parseInt(S,2)&parseInt(h,2))&&Te(f,!0)},c=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",i,{passive:!1}),Be||document.body.classList.add(Wt),Be++},s=()=>{Be&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",i),Be--,Be||document.body.classList.remove(Wt))},r=()=>t()&&c(),u=()=>t()&&s();at(r),ze(u),Ct(u),X(t,f=>{f?c():s()})}function xn(e){const t=L(!1);return X(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const wt=()=>{var e;const{scopeId:t}=((e=$e())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[ua,da]=J("overlay"),fa={show:Boolean,zIndex:Y,duration:Y,className:fe,lockScroll:Q,lazyRender:Q,customStyle:Object};var ha=ee({name:ua,props:fa,setup(e,{slots:t}){const n=L(),a=xn(()=>e.show||!e.lazyRender),o=c=>{e.lockScroll&&Te(c,!0)},i=a(()=>{var c;const s=re(hn(e.zIndex),e.customStyle);return ie(e.duration)&&(s.animationDuration=`${e.duration}s`),Tt(d("div",{ref:n,style:s,class:[da(),e.className]},[(c=t.default)==null?void 0:c.call(t)]),[[It,e.show]])});return ke("touchmove",o,{target:n}),()=>d(nn,{name:"van-fade",appear:!0},{default:i})}});const va=ae(ha),ga=re({},rt,{round:Boolean,position:Z("center"),closeIcon:Z("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Z("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ma,jt]=J("popup");var ba=ee({name:ma,inheritAttrs:!1,props:ga,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:a}){let o,i;const c=L(),s=L(),r=xn(()=>e.show||!e.lazyRender),u=V(()=>{const M={zIndex:c.value};if(ie(e.duration)){const q=e.position==="center"?"animationDuration":"transitionDuration";M[q]=`${e.duration}s`}return M}),f=()=>{o||(o=!0,c.value=e.zIndex!==void 0?+e.zIndex:Hi(),t("open"))},h=()=>{o&&Ot(e.beforeClose,{done(){o=!1,t("close"),t("update:show",!1)}})},g=M=>{t("clickOverlay",M),e.closeOnClickOverlay&&h()},x=()=>{if(e.overlay)return d(va,me({show:e.show,class:e.overlayClass,zIndex:c.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},wt(),{onClick:g}),{default:a["overlay-content"]})},I=M=>{t("clickCloseIcon",M),h()},A=()=>{if(e.closeable)return d(Ie,{role:"button",tabindex:0,name:e.closeIcon,class:[jt("close-icon",e.closeIconPosition),pi],classPrefix:e.iconPrefix,onClick:I},null)};let S;const O=()=>{S&&clearTimeout(S),S=setTimeout(()=>{t("opened")})},_=()=>t("closed"),j=M=>t("keydown",M),K=r(()=>{var M;const{round:q,position:te,safeAreaInsetTop:ne,safeAreaInsetBottom:z}=e;return Tt(d("div",me({ref:s,style:u.value,role:"dialog",tabindex:0,class:[jt({round:q,[te]:te}),{"van-safe-area-top":ne,"van-safe-area-bottom":z}],onKeydown:j},n,wt()),[(M=a.default)==null?void 0:M.call(a),A()]),[[It,e.show]])}),G=()=>{const{position:M,transition:q,transitionAppear:te}=e,ne=M==="center"?"van-fade":`van-popup-slide-${M}`;return d(nn,{name:q||ne,appear:te,onAfterEnter:O,onAfterLeave:_},{default:K})};return X(()=>e.show,M=>{M&&!o&&(f(),n.tabindex===0&&se(()=>{var q;(q=s.value)==null||q.focus()})),!M&&o&&(o=!1,t("close"))}),we({popupRef:s}),ca(s,()=>e.show&&e.lockScroll),ke("popstate",()=>{e.closeOnPopstate&&(h(),i=!1)}),Ce(()=>{e.show&&f()}),et(()=>{i&&(t("update:show",!0),i=!1)}),ze(()=>{e.show&&e.teleport&&(h(),i=!0)}),tt(yn,()=>e.show),()=>e.teleport?d(Gn,{to:e.teleport},{default:()=>[x(),G()]}):d(an,null,[x(),G()])}});const En=ae(ba);function ya(e,t,n){let a,o=0;const i=e.scrollLeft,c=n===0?1:Math.round(n*1e3/16);function s(){rn(a)}function r(){e.scrollLeft+=(t-i)/c,++o<c&&(a=Le(r))}return r(),s}function wa(e,t,n,a){let o,i=xt(e);const c=i<t,s=n===0?1:Math.round(n*1e3/16),r=(t-i)/s;function u(){rn(o)}function f(){i+=r,(c&&i>t||!c&&i<t)&&(i=t),bt(e,i),c&&i<t||!c&&i>t?o=Le(f):a&&(o=Le(a))}return f(),u}let Sa=0;function pt(){const e=$e(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++Sa}`}function Ca(){const e=L([]),t=[];return Yn(()=>{e.value=[]}),[e,a=>(t[a]||(t[a]=o=>{e.value[a]=o}),t[a])]}function _n(e,t){if(!Fe||!window.IntersectionObserver)return;const n=new IntersectionObserver(i=>{t(i[0].intersectionRatio>0)},{root:document.body}),a=()=>{e.value&&n.observe(e.value)},o=()=>{e.value&&n.unobserve(e.value)};ze(o),Ct(o),at(a)}const[Ta,Ia]=J("sticky"),$a={zIndex:Y,position:Z("top"),container:Object,offsetTop:ve(0),offsetBottom:ve(0)};var xa=ee({name:Ta,props:$a,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const a=L(),o=dn(a),i=ge({fixed:!1,width:0,height:0,transform:0}),c=L(!1),s=V(()=>vn(e.position==="top"?e.offsetTop:e.offsetBottom)),r=V(()=>{if(c.value)return;const{fixed:g,height:x,width:I}=i;if(g)return{width:`${I}px`,height:`${x}px`}}),u=V(()=>{if(!i.fixed||c.value)return;const g=re(hn(e.zIndex),{width:`${i.width}px`,height:`${i.height}px`,[e.position]:`${s.value}px`});return i.transform&&(g.transform=`translate3d(0, ${i.transform}px, 0)`),g}),f=g=>t("scroll",{scrollTop:g,isFixed:i.fixed}),h=()=>{if(!a.value||Re(a))return;const{container:g,position:x}=e,I=Se(a),A=xt(window);if(i.width=I.width,i.height=I.height,x==="top")if(g){const S=Se(g),O=S.bottom-s.value-i.height;i.fixed=s.value>I.top&&S.bottom>0,i.transform=O<0?O:0}else i.fixed=s.value>I.top;else{const{clientHeight:S}=document.documentElement;if(g){const O=Se(g),_=S-O.top-s.value-i.height;i.fixed=S-s.value<I.bottom&&S>O.top,i.transform=_<0?-_:0}else i.fixed=S-s.value<I.bottom}f(A)};return X(()=>i.fixed,g=>t("change",g)),ke("scroll",h,{target:o,passive:!0}),_n(a,h),X([He,ot],()=>{!a.value||Re(a)||!i.fixed||(c.value=!0,se(()=>{const g=Se(a);i.width=g.width,i.height=g.height,c.value=!1}))}),()=>{var g;return d("div",{ref:a,style:r.value},[d("div",{class:Ia({fixed:i.fixed&&!c.value}),style:u.value},[(g=n.default)==null?void 0:g.call(n)])])}}});const Ea=ae(xa),[On,We]=J("swipe"),_a={loop:Q,width:Y,height:Y,vertical:Boolean,autoplay:ve(0),duration:ve(500),touchable:Q,lazyRender:Boolean,initialSwipe:ve(0),indicatorColor:String,showIndicators:Q,stopPropagation:Q},kn=Symbol(On);var Oa=ee({name:On,props:_a,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const a=L(),o=L(),i=ge({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const s=$n(),{children:r,linkChildren:u}=$t(kn),f=V(()=>r.length),h=V(()=>i[e.vertical?"height":"width"]),g=V(()=>e.vertical?s.deltaY.value:s.deltaX.value),x=V(()=>i.rect?(e.vertical?i.rect.height:i.rect.width)-h.value*f.value:0),I=V(()=>h.value?Math.ceil(Math.abs(x.value)/h.value):f.value),A=V(()=>f.value*h.value),S=V(()=>(i.active+f.value)%f.value),O=V(()=>{const y=e.vertical?"vertical":"horizontal";return s.direction.value===y}),_=V(()=>{const y={transitionDuration:`${i.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+i.offset.toFixed(2)}px)`};if(h.value){const D=e.vertical?"height":"width",N=e.vertical?"width":"height";y[D]=`${A.value}px`,y[N]=e[N]?`${e[N]}px`:""}return y}),j=y=>{const{active:D}=i;return y?e.loop?ft(D+y,-1,f.value):ft(D+y,0,I.value):D},K=(y,D=0)=>{let N=y*h.value;e.loop||(N=Math.min(N,-x.value));let H=D-N;return e.loop||(H=ft(H,x.value,0)),H},G=({pace:y=0,offset:D=0,emitChange:N})=>{if(f.value<=1)return;const{active:H}=i,v=j(y),B=K(v,D);if(e.loop){if(r[0]&&B!==x.value){const l=B<x.value;r[0].setOffset(l?A.value:0)}if(r[f.value-1]&&B!==0){const l=B>0;r[f.value-1].setOffset(l?-A.value:0)}}i.active=v,i.offset=B,N&&v!==H&&t("change",S.value)},M=()=>{i.swiping=!0,i.active<=-1?G({pace:f.value}):i.active>=f.value&&G({pace:-f.value})},q=()=>{M(),s.reset(),De(()=>{i.swiping=!1,G({pace:-1,emitChange:!0})})},te=()=>{M(),s.reset(),De(()=>{i.swiping=!1,G({pace:1,emitChange:!0})})};let ne;const z=()=>clearTimeout(ne),R=()=>{z(),+e.autoplay>0&&f.value>1&&(ne=setTimeout(()=>{te(),R()},+e.autoplay))},oe=(y=+e.initialSwipe)=>{if(!a.value)return;const D=()=>{var N,H;if(!Re(a)){const v={width:a.value.offsetWidth,height:a.value.offsetHeight};i.rect=v,i.width=+((N=e.width)!=null?N:v.width),i.height=+((H=e.height)!=null?H:v.height)}f.value&&(y=Math.min(f.value-1,y),y===-1&&(y=f.value-1)),i.active=y,i.swiping=!0,i.offset=K(y),r.forEach(v=>{v.setOffset(0)}),R()};Re(a)?se().then(D):D()},ue=()=>oe(i.active);let E;const w=y=>{!e.touchable||y.touches.length>1||(s.start(y),c=!1,E=Date.now(),z(),M())},m=y=>{e.touchable&&i.swiping&&(s.move(y),O.value&&(!e.loop&&(i.active===0&&g.value>0||i.active===f.value-1&&g.value<0)||(Te(y,e.stopPropagation),G({offset:g.value}),c||(t("dragStart",{index:S.value}),c=!0))))},C=()=>{if(!e.touchable||!i.swiping)return;const y=Date.now()-E,D=g.value/y;if((Math.abs(D)>.25||Math.abs(g.value)>h.value/2)&&O.value){const H=e.vertical?s.offsetY.value:s.offsetX.value;let v=0;e.loop?v=H>0?g.value>0?-1:1:0:v=-Math[g.value>0?"ceil":"floor"](g.value/h.value),G({pace:v,emitChange:!0})}else g.value&&G({pace:0});c=!1,i.swiping=!1,t("dragEnd",{index:S.value}),R()},b=(y,D={})=>{M(),s.reset(),De(()=>{let N;e.loop&&y===f.value?N=i.active===0?0:y:N=y%f.value,D.immediate?De(()=>{i.swiping=!1}):i.swiping=!1,G({pace:N-i.active,emitChange:!0})})},p=(y,D)=>{const N=D===S.value,H=N?{backgroundColor:e.indicatorColor}:void 0;return d("i",{style:H,class:We("indicator",{active:N})},null)},P=()=>{if(n.indicator)return n.indicator({active:S.value,total:f.value});if(e.showIndicators&&f.value>1)return d("div",{class:We("indicators",{vertical:e.vertical})},[Array(f.value).fill("").map(p)])};return we({prev:q,next:te,state:i,resize:ue,swipeTo:b}),u({size:h,props:e,count:f,activeIndicator:S}),X(()=>e.initialSwipe,y=>oe(+y)),X(f,()=>oe(i.active)),X(()=>e.autoplay,R),X([He,ot,()=>e.width,()=>e.height],ue),X(ci(),y=>{y==="visible"?R():z()}),Ce(oe),et(()=>oe(i.active)),kt(()=>oe(i.active)),ze(z),Ct(z),ke("touchmove",m,{target:o}),()=>{var y;return d("div",{ref:a,class:We()},[d("div",{ref:o,style:_.value,class:We("track",{vertical:e.vertical}),onTouchstartPassive:w,onTouchend:C,onTouchcancel:C},[(y=n.default)==null?void 0:y.call(n)]),P()])}}});const ka=ae(Oa),[Ba,Ut]=J("tabs");var pa=ee({name:Ba,props:{count:ct(Number),inited:Boolean,animated:Boolean,duration:ct(Y),swipeable:Boolean,lazyRender:Boolean,currentIndex:ct(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const a=L(),o=s=>t("change",s),i=()=>{var s;const r=(s=n.default)==null?void 0:s.call(n);return e.animated||e.swipeable?d(ka,{ref:a,loop:!1,class:Ut("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[r]}):r},c=s=>{const r=a.value;r&&r.state.active!==s&&r.swipeTo(s,{immediate:!e.inited})};return X(()=>e.currentIndex,c),Ce(()=>{c(e.currentIndex)}),we({swipeRef:a}),()=>d("div",{class:Ut("content",{animated:e.animated||e.swipeable})},[i()])}});const[Bn,je]=J("tabs"),Pa={type:Z("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ve(0),duration:ve(.3),animated:Boolean,ellipsis:Q,swipeable:Boolean,scrollspy:Boolean,offsetTop:ve(0),background:String,lazyRender:Q,showHeader:Q,lineWidth:Y,lineHeight:Y,beforeChange:Function,swipeThreshold:ve(5),titleActiveColor:String,titleInactiveColor:String},pn=Symbol(Bn);var Da=ee({name:Bn,props:Pa,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let a,o,i,c,s;const r=L(),u=L(),f=L(),h=L(),g=pt(),x=dn(r),[I,A]=Ca(),{children:S,linkChildren:O}=$t(pn),_=ge({inited:!1,position:"",lineStyle:{},currentIndex:-1}),j=V(()=>S.length>+e.swipeThreshold||!e.ellipsis||e.shrink),K=V(()=>({borderColor:e.color,background:e.background})),G=(v,B)=>{var l;return(l=v.name)!=null?l:B},M=V(()=>{const v=S[_.currentIndex];if(v)return G(v,_.currentIndex)}),q=V(()=>vn(e.offsetTop)),te=V(()=>e.sticky?q.value+a:0),ne=v=>{const B=u.value,l=I.value;if(!j.value||!B||!l||!l[_.currentIndex])return;const $=l[_.currentIndex].$el,T=$.offsetLeft-(B.offsetWidth-$.offsetWidth)/2;c&&c(),c=ya(B,T,v?0:+e.duration)},z=()=>{const v=_.inited;se(()=>{const B=I.value;if(!B||!B[_.currentIndex]||e.type!=="line"||Re(r.value))return;const l=B[_.currentIndex].$el,{lineWidth:$,lineHeight:T}=e,k=l.offsetLeft+l.offsetWidth/2,F={width:le($),backgroundColor:e.color,transform:`translateX(${k}px) translateX(-50%)`};if(v&&(F.transitionDuration=`${e.duration}s`),ie(T)){const U=le(T);F.height=U,F.borderRadius=U}_.lineStyle=F})},R=v=>{const B=v<_.currentIndex?-1:1;for(;v>=0&&v<S.length;){if(!S[v].disabled)return v;v+=B}},oe=(v,B)=>{const l=R(v);if(!ie(l))return;const $=S[l],T=G($,l),k=_.currentIndex!==null;_.currentIndex!==l&&(_.currentIndex=l,B||ne(),z()),T!==e.active&&(t("update:active",T),k&&t("change",T,$.title)),i&&!e.scrollspy&&_t(Math.ceil(Lt(r.value)-q.value))},ue=(v,B)=>{const l=S.find((T,k)=>G(T,k)===v),$=l?S.indexOf(l):0;oe($,B)},E=(v=!1)=>{if(e.scrollspy){const B=S[_.currentIndex].$el;if(B&&x.value){const l=Lt(B,x.value)-te.value;o=!0,s&&s(),s=wa(x.value,l,v?0:+e.duration,()=>{o=!1})}}},w=(v,B,l)=>{const{title:$,disabled:T}=S[B],k=G(S[B],B);T||(Ot(e.beforeChange,{args:[k],done:()=>{oe(B),E()}}),Cn(v)),t("clickTab",{name:k,title:$,event:l,disabled:T})},m=v=>{i=v.isFixed,t("scroll",v)},C=v=>{se(()=>{ue(v),E(!0)})},b=()=>{for(let v=0;v<S.length;v++){const{top:B}=Se(S[v].$el);if(B>te.value)return v===0?0:v-1}return S.length-1},p=()=>{if(e.scrollspy&&!o){const v=b();oe(v)}},P=()=>{if(e.type==="line"&&S.length)return d("div",{class:je("line"),style:_.lineStyle},null)},y=()=>{var v,B,l;const{type:$,border:T,sticky:k}=e,F=[d("div",{ref:k?void 0:f,class:[je("wrap"),{[bn]:$==="line"&&T}]},[d("div",{ref:u,role:"tablist",class:je("nav",[$,{shrink:e.shrink,complete:j.value}]),style:K.value,"aria-orientation":"horizontal"},[(v=n["nav-left"])==null?void 0:v.call(n),S.map(U=>U.renderTitle(w)),P(),(B=n["nav-right"])==null?void 0:B.call(n)])]),(l=n["nav-bottom"])==null?void 0:l.call(n)];return k?d("div",{ref:f},[F]):F},D=()=>{z(),se(()=>{var v,B;ne(!0),(B=(v=h.value)==null?void 0:v.swipeRef.value)==null||B.resize()})};X(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],z),X(He,D),X(()=>e.active,v=>{v!==M.value&&ue(v)}),X(()=>S.length,()=>{_.inited&&(ue(e.active),z(),se(()=>{ne(!0)}))});const N=()=>{ue(e.active,!0),se(()=>{_.inited=!0,f.value&&(a=Se(f.value).height),ne(!0)})},H=(v,B)=>t("rendered",v,B);return we({resize:D,scrollTo:C}),et(z),kt(z),at(N),_n(r,z),ke("scroll",p,{target:x,passive:!0}),O({id:g,props:e,setLine:z,scrollable:j,onRendered:H,currentName:M,setTitleRefs:A,scrollIntoView:ne}),()=>d("div",{ref:r,class:je([e.type])},[e.showHeader?e.sticky?d(Ea,{container:r.value,offsetTop:q.value,onScroll:m},{default:()=>[y()]}):y():null,d(pa,{ref:h,count:S.length,inited:_.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:_.currentIndex,onChange:oe},{default:()=>{var v;return[(v=n.default)==null?void 0:v.call(n)]}})])}});const Aa=Symbol(),[Ma,qt]=J("tab"),Na=ee({name:Ma,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Y,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:Q},setup(e,{slots:t}){const n=V(()=>{const o={},{type:i,color:c,disabled:s,isActive:r,activeColor:u,inactiveColor:f}=e;c&&i==="card"&&(o.borderColor=c,s||(r?o.backgroundColor=c:o.color=c));const g=r?u:f;return g&&(o.color=g),o}),a=()=>{const o=d("span",{class:qt("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||ie(e.badge)&&e.badge!==""?d(Tn,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>d("div",{id:e.id,role:"tab",class:[qt([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[a()])}}),[La,Ra]=J("swipe-item");var za=ee({name:La,setup(e,{slots:t}){let n;const a=ge({offset:0,inited:!1,mounted:!1}),{parent:o,index:i}=it(kn);if(!o)return;const c=V(()=>{const u={},{vertical:f}=o.props;return o.size.value&&(u[f?"height":"width"]=`${o.size.value}px`),a.offset&&(u.transform=`translate${f?"Y":"X"}(${a.offset}px)`),u}),s=V(()=>{const{loop:u,lazyRender:f}=o.props;if(!f||n)return!0;if(!a.mounted)return!1;const h=o.activeIndicator.value,g=o.count.value-1,x=h===0&&u?g:h-1,I=h===g&&u?0:h+1;return n=i.value===h||i.value===x||i.value===I,n}),r=u=>{a.offset=u};return Ce(()=>{se(()=>{a.mounted=!0})}),we({setOffset:r}),()=>{var u;return d("div",{class:Ra(),style:c.value},[s.value?(u=t.default)==null?void 0:u.call(t):null])}}});const Fa=ae(za),[Va,ht]=J("tab"),Ha=re({},st,{dot:Boolean,name:Y,badge:Y,title:String,disabled:Boolean,titleClass:fe,titleStyle:[String,Object],showZeroBadge:Q});var Ga=ee({name:Va,props:Ha,setup(e,{slots:t}){const n=pt(),a=L(!1),o=$e(),{parent:i,index:c}=it(pn);if(!i)return;const s=()=>{var I;return(I=e.name)!=null?I:c.value},r=()=>{a.value=!0,i.props.lazyRender&&se(()=>{i.onRendered(s(),e.title)})},u=V(()=>{const I=s()===i.currentName.value;return I&&!a.value&&r(),I}),f=L(""),h=L("");Kn(()=>{const{titleClass:I,titleStyle:A}=e;f.value=I?Wn(I):"",h.value=A&&typeof A!="string"?jn(Un(A)):A});const g=I=>d(Na,me({key:n,id:`${i.id}-${c.value}`,ref:i.setTitleRefs(c.value),style:h.value,class:f.value,isActive:u.value,controls:n,scrollable:i.scrollable.value,activeColor:i.props.titleActiveColor,inactiveColor:i.props.titleInactiveColor,onClick:A=>I(o.proxy,c.value,A)},Ze(i.props,["type","color","shrink"]),Ze(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),x=L(!u.value);return X(u,I=>{I?x.value=!1:De(()=>{x.value=!0})}),X(()=>e.title,()=>{i.setLine(),i.scrollIntoView()}),tt(Aa,u),we({id:n,renderTitle:g}),()=>{var I;const A=`${i.id}-${c.value}`,{animated:S,swipeable:O,scrollspy:_,lazyRender:j}=i.props;if(!t.default&&!S)return;const K=_||u.value;if(S||O)return d(Fa,{id:n,role:"tabpanel",class:ht("panel-wrapper",{inactive:x.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":A},{default:()=>{var q;return[d("div",{class:ht("panel")},[(q=t.default)==null?void 0:q.call(t)])]}});const M=a.value||_||!j?(I=t.default)==null?void 0:I.call(t):null;return Tt(d("div",{id:n,role:"tabpanel",class:ht("panel"),tabindex:K?0:-1,"aria-labelledby":A},[M]),[[It,K]])}}});const Ya=ae(Ga),Ka=ae(Da),[Wa,Ee]=J("cell"),Pn={tag:Z("div"),icon:String,size:String,title:Y,value:Y,label:Y,center:Boolean,isLink:Boolean,border:Q,iconPrefix:String,valueClass:fe,labelClass:fe,titleClass:fe,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},ja=re({},Pn,st);var Ua=ee({name:Wa,props:ja,setup(e,{slots:t}){const n=Bt(),a=()=>{if(t.label||ie(e.label))return d("div",{class:[Ee("label"),e.labelClass]},[t.label?t.label():e.label])},o=()=>{var r;if(t.title||ie(e.title)){const u=(r=t.title)==null?void 0:r.call(t);return Array.isArray(u)&&u.length===0?void 0:d("div",{class:[Ee("title"),e.titleClass],style:e.titleStyle},[u||d("span",null,[e.title]),a()])}},i=()=>{const r=t.value||t.default;if(r||ie(e.value))return d("div",{class:[Ee("value"),e.valueClass]},[r?r():d("span",null,[e.value])])},c=()=>{if(t.icon)return t.icon();if(e.icon)return d(Ie,{name:e.icon,class:Ee("left-icon"),classPrefix:e.iconPrefix},null)},s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const r=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return d(Ie,{name:r,class:Ee("right-icon")},null)}};return()=>{var r;const{tag:u,size:f,center:h,border:g,isLink:x,required:I}=e,A=(r=e.clickable)!=null?r:x,S={center:h,required:!!I,clickable:A,borderless:!g};return f&&(S[f]=!!f),d(u,{class:Ee(S),role:A?"button":void 0,tabindex:A?0:void 0,onClick:n},{default:()=>{var O;return[c(),o(),i(),s(),(O=t.extra)==null?void 0:O.call(t)]}})}}});const Dn=ae(Ua);function An(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function qa(e,t){if(An(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Xa(e,t){return new Promise(n=>{const a=t.validator(e,t);if(ln(a)){a.then(n);return}n(a)})}function Xt(e,t){const{message:n}=t;return Ne(n)?n(e,t):n||""}function Za({target:e}){e.composing=!0}function Zt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Ja(e,t){const n=Et();e.style.height="auto";let a=e.scrollHeight;if(Ve(t)){const{maxHeight:o,minHeight:i}=t;o!==void 0&&(a=Math.min(a,o)),i!==void 0&&(a=Math.max(a,i))}a&&(e.style.height=`${a}px`,_t(n))}function Qa(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function ye(e){return[...e].length}function vt(e,t){return[...e].slice(0,t).join("")}const[eo,de]=J("field"),to={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Y,formatter:Function,clearIcon:Z("clear"),modelValue:ve(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Z("focus"),formatTrigger:Z("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},no=re({},Pn,to,{rows:Y,type:Z("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Y,labelClass:fe,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var io=ee({name:eo,props:no,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const a=pt(),o=ge({status:"unvalidated",focused:!1,validateMessage:""}),i=L(),c=L(),s=L(),{parent:r}=it(Pi),u=()=>{var l;return String((l=e.modelValue)!=null?l:"")},f=l=>{if(ie(e[l]))return e[l];if(r&&ie(r.props[l]))return r.props[l]},h=V(()=>{const l=f("readonly");if(e.clearable&&!l){const $=u()!=="",T=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return $&&T}return!1}),g=V(()=>s.value&&n.input?s.value():e.modelValue),x=V(()=>{var l;const $=f("required");return $==="auto"?(l=e.rules)==null?void 0:l.some(T=>T.required):$}),I=l=>l.reduce(($,T)=>$.then(()=>{if(o.status==="failed")return;let{value:k}=g;if(T.formatter&&(k=T.formatter(k,T)),!qa(k,T)){o.status="failed",o.validateMessage=Xt(k,T);return}if(T.validator)return An(k)&&T.validateEmpty===!1?void 0:Xa(k,T).then(F=>{F&&typeof F=="string"?(o.status="failed",o.validateMessage=F):F===!1&&(o.status="failed",o.validateMessage=Xt(k,T))})}),Promise.resolve()),A=()=>{o.status="unvalidated",o.validateMessage=""},S=()=>t("endValidate",{status:o.status,message:o.validateMessage}),O=(l=e.rules)=>new Promise($=>{A(),l?(t("startValidate"),I(l).then(()=>{o.status==="failed"?($({name:e.name,message:o.validateMessage}),S()):(o.status="passed",$(),S())})):$()}),_=l=>{if(r&&e.rules){const{validateTrigger:$}=r.props,T=At($).includes(l),k=e.rules.filter(F=>F.trigger?At(F.trigger).includes(l):T);k.length&&O(k)}},j=l=>{var $;const{maxlength:T}=e;if(ie(T)&&ye(l)>+T){const k=u();if(k&&ye(k)===+T)return k;const F=($=i.value)==null?void 0:$.selectionEnd;if(o.focused&&F){const U=[...l],ce=U.length-+T;return U.splice(F-ce,ce),U.join("")}return vt(l,+T)}return l},K=(l,$="onChange")=>{const T=l;l=j(l);const k=ye(T)-ye(l);if(e.type==="number"||e.type==="digit"){const U=e.type==="number";l=Si(l,U,U)}let F=0;if(e.formatter&&$===e.formatTrigger){const{formatter:U,maxlength:ce}=e;if(l=U(l),ie(ce)&&ye(l)>+ce&&(l=vt(l,+ce)),i.value&&o.focused){const{selectionEnd:Ge}=i.value,Pt=vt(T,Ge);F=ye(U(Pt))-ye(Pt)}}if(i.value&&i.value.value!==l)if(o.focused){let{selectionStart:U,selectionEnd:ce}=i.value;if(i.value.value=l,ie(U)&&ie(ce)){const Ge=ye(l);k?(U-=k,ce-=k):F&&(U+=F,ce+=F),i.value.setSelectionRange(Math.min(U,Ge),Math.min(ce,Ge))}}else i.value.value=l;l!==e.modelValue&&t("update:modelValue",l)},G=l=>{l.target.composing||K(l.target.value)},M=()=>{var l;return(l=i.value)==null?void 0:l.blur()},q=()=>{var l;return(l=i.value)==null?void 0:l.focus()},te=()=>{const l=i.value;e.type==="textarea"&&e.autosize&&l&&Ja(l,e.autosize)},ne=l=>{o.focused=!0,t("focus",l),se(te),f("readonly")&&M()},z=l=>{o.focused=!1,K(u(),"onBlur"),t("blur",l),!f("readonly")&&(_("onBlur"),se(te),fi())},R=l=>t("clickInput",l),oe=l=>t("clickLeftIcon",l),ue=l=>t("clickRightIcon",l),E=l=>{Te(l),t("update:modelValue",""),t("clear",l)},w=V(()=>{if(typeof e.error=="boolean")return e.error;if(r&&r.props.showError&&o.status==="failed")return!0}),m=V(()=>{const l=f("labelWidth"),$=f("labelAlign");if(l&&$!=="top")return{width:le(l)}}),C=l=>{l.keyCode===13&&(!(r&&r.props.submitOnEnter)&&e.type!=="textarea"&&Te(l),e.type==="search"&&M()),t("keypress",l)},b=()=>e.id||`${a}-input`,p=()=>o.status,P=()=>{const l=de("control",[f("inputAlign"),{error:w.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return d("div",{class:l,onClick:R},[n.input()]);const $={id:b(),ref:i,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:l,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${a}-label`:void 0,onBlur:z,onFocus:ne,onInput:G,onClick:R,onChange:Zt,onKeypress:C,onCompositionend:Zt,onCompositionstart:Za};return e.type==="textarea"?d("textarea",$,null):d("input",me(Qa(e.type),$),null)},y=()=>{const l=n["left-icon"];if(e.leftIcon||l)return d("div",{class:de("left-icon"),onClick:oe},[l?l():d(Ie,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},D=()=>{const l=n["right-icon"];if(e.rightIcon||l)return d("div",{class:de("right-icon"),onClick:ue},[l?l():d(Ie,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},N=()=>{if(e.showWordLimit&&e.maxlength){const l=ye(u());return d("div",{class:de("word-limit")},[d("span",{class:de("word-num")},[l]),on("/"),e.maxlength])}},H=()=>{if(r&&r.props.showErrorMessage===!1)return;const l=e.errorMessage||o.validateMessage;if(l){const $=n["error-message"],T=f("errorMessageAlign");return d("div",{class:de("error-message",T)},[$?$({message:l}):l])}},v=()=>{const l=f("labelWidth"),$=f("labelAlign"),T=f("colon")?":":"";if(n.label)return[n.label(),T];if(e.label)return d("label",{id:`${a}-label`,for:n.input?void 0:b(),onClick:k=>{Te(k),q()},style:$==="top"&&l?{width:le(l)}:void 0},[e.label+T])},B=()=>[d("div",{class:de("body")},[P(),h.value&&d(Ie,{ref:c,name:e.clearIcon,class:de("clear")},null),D(),n.button&&d("div",{class:de("button")},[n.button()])]),N(),H()];return we({blur:M,focus:q,validate:O,formValue:g,resetValidation:A,getValidationStatus:p}),tt(fn,{customValue:s,resetValidation:A,validateWithTrigger:_}),X(()=>e.modelValue,()=>{K(u()),A(),_("onChange"),se(te)}),Ce(()=>{K(u(),e.formatTrigger),se(te)}),ke("touchstart",E,{target:V(()=>{var l;return(l=c.value)==null?void 0:l.$el})}),()=>{const l=f("disabled"),$=f("labelAlign"),T=y(),k=()=>{const F=v();return $==="top"?[T,F].filter(Boolean):F||[]};return d(Dn,{size:e.size,class:de({error:w.value,disabled:l,[`label-${$}`]:$}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:m.value,valueClass:de("value"),titleClass:[de("label",[$,{required:x.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:T&&$!=="top"?()=>T:null,title:k,value:B,extra:n.extra})}}});const ao=ae(io);function Mn(){const e=ge({show:!1}),t=o=>{e.show=o},n=o=>{re(e,o,{transitionAppear:!0}),t(!0)},a=()=>t(!1);return we({open:n,close:a,toggle:t}),{open:n,close:a,state:e,toggle:t}}function Nn(e){const t=qn(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const[oo,gt]=J("switch"),lo={size:Y,loading:Boolean,disabled:Boolean,modelValue:fe,activeColor:String,inactiveColor:String,activeValue:{type:fe,default:!0},inactiveValue:{type:fe,default:!1}};var so=ee({name:oo,props:lo,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const a=()=>e.modelValue===e.activeValue,o=()=>{if(!e.disabled&&!e.loading){const c=a()?e.inactiveValue:e.activeValue;t("update:modelValue",c),t("change",c)}},i=()=>{if(e.loading){const c=a()?e.activeColor:e.inactiveColor;return d(In,{class:gt("loading"),color:c},null)}if(n.node)return n.node()};return ui(()=>e.modelValue),()=>{var c;const{size:s,loading:r,disabled:u,activeColor:f,inactiveColor:h}=e,g=a(),x={fontSize:le(s),backgroundColor:g?f:h};return d("div",{role:"switch",class:gt({on:g,loading:r,disabled:u}),style:x,tabindex:u?void 0:0,"aria-checked":g,onClick:o},[d("div",{class:gt("node")},[i()]),(c=n.background)==null?void 0:c.call(n)])}}});const ro=ae(so),[co,Jt]=J("cell-group"),uo={title:String,inset:Boolean,border:Q};var fo=ee({name:co,inheritAttrs:!1,props:uo,setup(e,{slots:t,attrs:n}){const a=()=>{var i;return d("div",me({class:[Jt({inset:e.inset}),{[bn]:e.border&&!e.inset}]},n,wt()),[(i=t.default)==null?void 0:i.call(t)])},o=()=>d("div",{class:Jt("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?d(an,null,[o(),a()]):a()}});const ho=ae(fo),[vo,he,Ue]=J("dialog"),go=re({},rt,{title:String,theme:String,width:Y,message:[String,Function],callback:Function,allowHtml:Boolean,className:fe,transition:Z("van-dialog-bounce"),messageAlign:String,closeOnPopstate:Q,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:Q,closeOnClickOverlay:Boolean}),mo=[...sa,"transition","closeOnPopstate"];var Ln=ee({name:vo,props:go,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const a=L(),o=ge({confirm:!1,cancel:!1}),i=O=>t("update:show",O),c=O=>{var _;i(!1),(_=e.callback)==null||_.call(e,O)},s=O=>()=>{e.show&&(t(O),e.beforeClose?(o[O]=!0,Ot(e.beforeClose,{args:[O],done(){c(O),o[O]=!1},canceled(){o[O]=!1}})):c(O))},r=s("cancel"),u=s("confirm"),f=Xn(O=>{var _,j;if(O.target!==((j=(_=a.value)==null?void 0:_.popupRef)==null?void 0:j.value))return;({Enter:e.showConfirmButton?u:mt,Escape:e.showCancelButton?r:mt})[O.key](),t("keydown",O)},["enter","esc"]),h=()=>{const O=n.title?n.title():e.title;if(O)return d("div",{class:he("header",{isolated:!e.message&&!n.default})},[O])},g=O=>{const{message:_,allowHtml:j,messageAlign:K}=e,G=he("message",{"has-title":O,[K]:K}),M=Ne(_)?_():_;return j&&typeof M=="string"?d("div",{class:G,innerHTML:M},null):d("div",{class:G},[M])},x=()=>{if(n.default)return d("div",{class:he("content")},[n.default()]);const{title:O,message:_,allowHtml:j}=e;if(_){const K=!!(O||n.title);return d("div",{key:j?1:0,class:he("content",{isolated:!K})},[g(K)])}},I=()=>d("div",{class:[Oi,he("footer")]},[e.showCancelButton&&d(Je,{size:"large",text:e.cancelButtonText||Ue("cancel"),class:he("cancel"),style:{color:e.cancelButtonColor},loading:o.cancel,disabled:e.cancelButtonDisabled,onClick:r},null),e.showConfirmButton&&d(Je,{size:"large",text:e.confirmButtonText||Ue("confirm"),class:[he("confirm"),{[ki]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:o.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]),A=()=>d(Li,{class:he("footer")},{default:()=>[e.showCancelButton&&d(Kt,{type:"warning",text:e.cancelButtonText||Ue("cancel"),class:he("cancel"),color:e.cancelButtonColor,loading:o.cancel,disabled:e.cancelButtonDisabled,onClick:r},null),e.showConfirmButton&&d(Kt,{type:"danger",text:e.confirmButtonText||Ue("confirm"),class:he("confirm"),color:e.confirmButtonColor,loading:o.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}),S=()=>n.footer?n.footer():e.theme==="round-button"?A():I();return()=>{const{width:O,title:_,theme:j,message:K,className:G}=e;return d(En,me({ref:a,role:"dialog",class:[he([j]),G],style:{width:le(O)},tabindex:0,"aria-labelledby":_||K,onKeydown:f,"onUpdate:show":i},Ze(e,mo)),{default:()=>[h(),x(),S()]})}}});let St;const bo={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let yo=re({},bo);function wo(){({instance:St}=Nn({setup(){const{state:t,toggle:n}=Mn();return()=>d(Ln,me(t,{"onUpdate:show":n}),null)}}))}function So(e){return Fe?new Promise((t,n)=>{St||wo(),St.open(re({},yo,e,{callback:a=>{(a==="confirm"?t:n)(a)}}))}):Promise.resolve(void 0)}const Co=e=>So(re({showCancelButton:!0},e));ae(Ln);const[To,Io]=J("notify"),$o=["lockScroll","position","show","teleport","zIndex"],xo=re({},rt,{type:Z("danger"),color:String,message:Y,position:Z("top"),className:fe,background:String,lockScroll:Boolean});var Rn=ee({name:To,props:xo,emits:["update:show"],setup(e,{emit:t,slots:n}){const a=o=>t("update:show",o);return()=>d(En,me({class:[Io([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":a},Ze(e,$o)),{default:()=>[n.default?n.default():e.message]})}});let Qt,_e;const Eo=e=>Ve(e)?e:{message:e};function _o(){({instance:_e}=Nn({setup(){const{state:e,toggle:t}=Mn();return()=>d(Rn,me(e,{"onUpdate:show":t}),null)}}))}const Oo=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let ko=Oo();const Bo=()=>{_e&&_e.toggle(!1)};function qe(e){if(Fe)return _e||_o(),e=re({},ko,Eo(e)),_e.open(e),clearTimeout(Qt),e.duration>0&&(Qt=setTimeout(Bo,e.duration)),_e}ae(Rn);var zn={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Zn,function(){var n=1e3,a=6e4,o=36e5,i="millisecond",c="second",s="minute",r="hour",u="day",f="week",h="month",g="quarter",x="year",I="date",A="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var w=["th","st","nd","rd"],m=E%100;return"["+E+(w[(m-20)%10]||w[m]||w[0])+"]"}},j=function(E,w,m){var C=String(E);return!C||C.length>=w?E:""+Array(w+1-C.length).join(m)+E},K={s:j,z:function(E){var w=-E.utcOffset(),m=Math.abs(w),C=Math.floor(m/60),b=m%60;return(w<=0?"+":"-")+j(C,2,"0")+":"+j(b,2,"0")},m:function E(w,m){if(w.date()<m.date())return-E(m,w);var C=12*(m.year()-w.year())+(m.month()-w.month()),b=w.clone().add(C,h),p=m-b<0,P=w.clone().add(C+(p?-1:1),h);return+(-(C+(m-b)/(p?b-P:P-b))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:h,y:x,w:f,d:u,D:I,h:r,m:s,s:c,ms:i,Q:g}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},G="en",M={};M[G]=_;var q="$isDayjsObject",te=function(E){return E instanceof oe||!(!E||!E[q])},ne=function E(w,m,C){var b;if(!w)return G;if(typeof w=="string"){var p=w.toLowerCase();M[p]&&(b=p),m&&(M[p]=m,b=p);var P=w.split("-");if(!b&&P.length>1)return E(P[0])}else{var y=w.name;M[y]=w,b=y}return!C&&b&&(G=b),b||!C&&G},z=function(E,w){if(te(E))return E.clone();var m=typeof w=="object"?w:{};return m.date=E,m.args=arguments,new oe(m)},R=K;R.l=ne,R.i=te,R.w=function(E,w){return z(E,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var oe=function(){function E(m){this.$L=ne(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[q]=!0}var w=E.prototype;return w.parse=function(m){this.$d=function(C){var b=C.date,p=C.utc;if(b===null)return new Date(NaN);if(R.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var P=b.match(S);if(P){var y=P[2]-1||0,D=(P[7]||"0").substring(0,3);return p?new Date(Date.UTC(P[1],y,P[3]||1,P[4]||0,P[5]||0,P[6]||0,D)):new Date(P[1],y,P[3]||1,P[4]||0,P[5]||0,P[6]||0,D)}}return new Date(b)}(m),this.init()},w.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},w.$utils=function(){return R},w.isValid=function(){return this.$d.toString()!==A},w.isSame=function(m,C){var b=z(m);return this.startOf(C)<=b&&b<=this.endOf(C)},w.isAfter=function(m,C){return z(m)<this.startOf(C)},w.isBefore=function(m,C){return this.endOf(C)<z(m)},w.$g=function(m,C,b){return R.u(m)?this[C]:this.set(b,m)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(m,C){var b=this,p=!!R.u(C)||C,P=R.p(m),y=function(T,k){var F=R.w(b.$u?Date.UTC(b.$y,k,T):new Date(b.$y,k,T),b);return p?F:F.endOf(u)},D=function(T,k){return R.w(b.toDate()[T].apply(b.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(k)),b)},N=this.$W,H=this.$M,v=this.$D,B="set"+(this.$u?"UTC":"");switch(P){case x:return p?y(1,0):y(31,11);case h:return p?y(1,H):y(0,H+1);case f:var l=this.$locale().weekStart||0,$=(N<l?N+7:N)-l;return y(p?v-$:v+(6-$),H);case u:case I:return D(B+"Hours",0);case r:return D(B+"Minutes",1);case s:return D(B+"Seconds",2);case c:return D(B+"Milliseconds",3);default:return this.clone()}},w.endOf=function(m){return this.startOf(m,!1)},w.$set=function(m,C){var b,p=R.p(m),P="set"+(this.$u?"UTC":""),y=(b={},b[u]=P+"Date",b[I]=P+"Date",b[h]=P+"Month",b[x]=P+"FullYear",b[r]=P+"Hours",b[s]=P+"Minutes",b[c]=P+"Seconds",b[i]=P+"Milliseconds",b)[p],D=p===u?this.$D+(C-this.$W):C;if(p===h||p===x){var N=this.clone().set(I,1);N.$d[y](D),N.init(),this.$d=N.set(I,Math.min(this.$D,N.daysInMonth())).$d}else y&&this.$d[y](D);return this.init(),this},w.set=function(m,C){return this.clone().$set(m,C)},w.get=function(m){return this[R.p(m)]()},w.add=function(m,C){var b,p=this;m=Number(m);var P=R.p(C),y=function(H){var v=z(p);return R.w(v.date(v.date()+Math.round(H*m)),p)};if(P===h)return this.set(h,this.$M+m);if(P===x)return this.set(x,this.$y+m);if(P===u)return y(1);if(P===f)return y(7);var D=(b={},b[s]=a,b[r]=o,b[c]=n,b)[P]||1,N=this.$d.getTime()+m*D;return R.w(N,this)},w.subtract=function(m,C){return this.add(-1*m,C)},w.format=function(m){var C=this,b=this.$locale();if(!this.isValid())return b.invalidDate||A;var p=m||"YYYY-MM-DDTHH:mm:ssZ",P=R.z(this),y=this.$H,D=this.$m,N=this.$M,H=b.weekdays,v=b.months,B=b.meridiem,l=function(k,F,U,ce){return k&&(k[F]||k(C,p))||U[F].slice(0,ce)},$=function(k){return R.s(y%12||12,k,"0")},T=B||function(k,F,U){var ce=k<12?"AM":"PM";return U?ce.toLowerCase():ce};return p.replace(O,function(k,F){return F||function(U){switch(U){case"YY":return String(C.$y).slice(-2);case"YYYY":return R.s(C.$y,4,"0");case"M":return N+1;case"MM":return R.s(N+1,2,"0");case"MMM":return l(b.monthsShort,N,v,3);case"MMMM":return l(v,N);case"D":return C.$D;case"DD":return R.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return l(b.weekdaysMin,C.$W,H,2);case"ddd":return l(b.weekdaysShort,C.$W,H,3);case"dddd":return H[C.$W];case"H":return String(y);case"HH":return R.s(y,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return T(y,D,!0);case"A":return T(y,D,!1);case"m":return String(D);case"mm":return R.s(D,2,"0");case"s":return String(C.$s);case"ss":return R.s(C.$s,2,"0");case"SSS":return R.s(C.$ms,3,"0");case"Z":return P}return null}(k)||P.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(m,C,b){var p,P=this,y=R.p(C),D=z(m),N=(D.utcOffset()-this.utcOffset())*a,H=this-D,v=function(){return R.m(P,D)};switch(y){case x:p=v()/12;break;case h:p=v();break;case g:p=v()/3;break;case f:p=(H-N)/6048e5;break;case u:p=(H-N)/864e5;break;case r:p=H/o;break;case s:p=H/a;break;case c:p=H/n;break;default:p=H}return b?p:R.a(p)},w.daysInMonth=function(){return this.endOf(h).$D},w.$locale=function(){return M[this.$L]},w.locale=function(m,C){if(!m)return this.$L;var b=this.clone(),p=ne(m,C,!0);return p&&(b.$L=p),b},w.clone=function(){return R.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},E}(),ue=oe.prototype;return z.prototype=ue,[["$ms",i],["$s",c],["$m",s],["$H",r],["$W",u],["$M",h],["$y",x],["$D",I]].forEach(function(E){ue[E[1]]=function(w){return this.$g(w,E[0],E[1])}}),z.extend=function(E,w){return E.$i||(E(w,oe,z),E.$i=!0),z},z.locale=ne,z.isDayjs=te,z.unix=function(E){return z(1e3*E)},z.en=M[G],z.Ls=M,z.p={},z})})(zn);var po=zn.exports;const Po=Jn(po),Do=6378137;function Xe(e){return e*Math.PI/180}function Fn([e,t],[n,a]){const o=Xe(t),i=Xe(a),c=o-i,s=Xe(e),r=Xe(n),u=s-r;return 2*Math.asin(Math.sqrt(Math.pow(Math.sin(c/2),2)+Math.cos(o)*Math.cos(i)*Math.pow(Math.sin(u/2),2)))*Do}function en(e,t=30,n=void 0){if(e.length<=1)return!1;let a=e;if(n){const s=e[e.length-1][0]-n;a=e.filter(r=>r[0]>=s)}if(a.length<=1)return!1;let o=0,i=0;for(const s of a)o+=s[1],i+=s[2];o/=a.length,i/=a.length;let c=0;for(const s of a)c+=Fn([s[1],s[2]],[o,i]);return c/=a.length,c>t}var W;(function(e){e.NOT_READY="NOT_READY",e.POSITIONING="POSITIONING",e.CHECKING="CHECKING",e.POSITION_FAILED="POSITION_FAILED",e.LONG_TIME_NOT_UPDATE="LONG_TIME_NOT_UPDATE",e.OK="OK"})(W||(W={}));class Ao extends EventTarget{constructor({startupTime:t=2e4,positionUpdateInterval:n=2e4,positionStableTimes:a=2,altitudeChangeThreshold:o=20,distanceChangeThreshold:i=200,checkInterval:c=500,pathSaveTime:s=3e4,moveThreshold:r=-1}={}){super(),this.initTime=-1,this.status=W.NOT_READY,this.lastTimerTime=null,this.lastPositionTime=null,this.lastLongitude=null,this.lastLatitude=null,this.lastAltitude=null,this.path=[],this.stableStartTime=null,this.stableTimes=0,this.startupTime=t,this.positionUpdateInterval=n,this.positionStableTimes=a,this.altitudeChangeThreshold=o,this.distanceChangeThreshold=i,this.pathSaveTime=s,this.checkInterval=c,this.moveThreshold=r<=0?null:r}init(){if(this.initTime>0)throw new Error("已经初始化过了");this.changeStatus(W.POSITIONING),this.initTime=Date.now(),navigator.geolocation.watchPosition(t=>this.onPositionSuccess(t),t=>this.onPositionError(t),{enableHighAccuracy:!0,timeout:1e4}),navigator.geolocation.getCurrentPosition(t=>this.onPositionSuccess(t),t=>this.onPositionError(t),{enableHighAccuracy:!0,timeout:1e4}),setInterval(()=>this.onTimer(),this.checkInterval)}onPositionSuccess(t){this.dispatchEvent(new CustomEvent("position",{detail:{result:t}}));const{coords:n}=t;if(n.longitude==this.lastLongitude&&n.latitude==this.lastLatitude)return;this.dispatchEvent(new CustomEvent("positionChange",{detail:{result:t}})),(this.status==W.POSITIONING||this.status==W.POSITION_FAILED||this.status==W.LONG_TIME_NOT_UPDATE)&&this.changeStatus(W.CHECKING);const a=this.lastPositionTime?t.timestamp-this.lastPositionTime:null;n.altitude&&this.lastAltitude&&a&&Math.abs(this.lastAltitude-n.altitude)/a*1e3>this.altitudeChangeThreshold&&this.changeStatus(W.CHECKING),this.lastPositionTime&&a&&Fn([this.lastLongitude,this.lastLatitude],[n.longitude,n.latitude])/a*1e3>this.distanceChangeThreshold&&this.changeStatus(W.CHECKING),a&&a<this.positionUpdateInterval&&(this.stableTimes==1&&(this.stableStartTime=t.timestamp),this.stableTimes+=1,this.status==W.CHECKING&&this.stableTimes>=this.positionStableTimes&&this.changeStatus(W.OK)),this.lastPositionTime=t.timestamp,this.lastLongitude=n.longitude,this.lastLatitude=n.latitude,this.lastAltitude=n.altitude,this.path.push([t.timestamp,n.longitude,n.latitude]);const o=t.timestamp-this.pathSaveTime;this.path=this.path.filter(i=>i[0]>=o),this.moveThreshold&&en(this.path,this.moveThreshold)&&this.changeStatus(W.CHECKING),this.dispatchEvent(new CustomEvent("positionChangeEnd",{detail:{result:t}}))}onPositionError(t){this.dispatchEvent(new CustomEvent("positionError",{detail:{err:t}})),!(this.status==W.POSITIONING&&Date.now()-this.initTime<=this.startupTime)&&this.changeStatus(W.POSITION_FAILED)}onTimer(){if(this.status==W.POSITIONING&&Date.now()-this.initTime>this.startupTime){this.changeStatus(W.POSITION_FAILED);return}const t=Date.now();if(this.lastTimerTime&&t-this.lastTimerTime>this.checkInterval*3&&this.changeStatus(W.CHECKING),this.lastTimerTime=t,(this.status==W.OK||this.status==W.CHECKING)&&Date.now()-this.lastPositionTime>this.positionUpdateInterval){this.changeStatus(W.LONG_TIME_NOT_UPDATE);return}}changeStatus(t){switch(t){case W.CHECKING:case W.POSITION_FAILED:case W.LONG_TIME_NOT_UPDATE:this.stableStartTime=null,this.stableTimes=0;break}const n=this.status;this.status=t,this.dispatchEvent(new CustomEvent("statusChange",{detail:{oldStatus:n,newStatus:t}}))}check(){const t=this.lastPositionTime,n=this.path.filter(()=>!0),a=this.status==W.OK;return{status:this.status,longitude:this.lastLongitude,latitude:this.lastLatitude,altitude:this.lastAltitude,time:t,stableTime:this.lastPositionTime&&this.stableStartTime?this.lastPositionTime-this.stableStartTime:0,stableCount:this.stableTimes,path:n,pathMoved:(o=20,i=void 0)=>en(n,o,i),isOk:()=>a}}isOk(){return this.status==W.OK}forgeCheckIfOk(){this.isOk()&&this.changeStatus(W.CHECKING)}}let pe;function Pe(e){return pe||(pe=new Ao,pe.init(),pe)}const Mo={class:"p-4 min-h-full bg-slate-50 space-y-4"},No=nt("div",{class:"text-center text-2xl"},"Anti-FakeGPS",-1),Lo=nt("span",{class:"ml-1"},"秒",-1),Ro=nt("span",{class:"ml-1"},"次",-1),zo=nt("span",{class:"ml-1"},"个",-1),Fo=ti('<fieldset class="border rounded-md px-4 py-2"><legend>说明</legend><div class="text-sm leading-6"><p>1. 只依赖网页能访问到的数据，判定是否存在模拟定位</p><p>2. 适用巡逻打卡拍照等场景，可防市面上绝大部分模拟定位软件</p><p>3. 仅支持有物理 GPS 硬件的设备（通常是移动端）</p><p><span>4. 更多细节，请参阅</span><a class="text-sky-500" href="https://blog.cat73.org#TODO" target="_blank">博客文章</a><span>了解更多</span></p><p><span>5. </span><a class="text-sky-500" href="https://github.com/Cat7373/Anti-FakeGPS" target="_blank">Github Repo</a></p></div></fieldset>',1),Go={__name:"MainPage",setup(e){const t={NOT_READY:"等待初始化",POSITIONING:"正在定位",CHECKING:"正在检测",POSITION_FAILED:"定位失败",LONG_TIME_NOT_UPDATE:"检测到模拟定位",OK:"通过检测"},n=L({}),a=L(""),o=L(!1),i=async s=>{const r=Pe().check();r.pathMoved=r.pathMoved(),r.pathLength=r.path.length,n.value=r,console.log(`${s}: ${r.time}: ${r.longitude}, ${r.latitude}, ${r.altitude} => ${r.status}`)};async function c(){const s=Pe().check();switch(s.status){case"POSITIONING":case"CHECKING":qe({type:"warning",message:"正在定位，请稍等..."});return;case"POSITION_FAILED":qe({type:"warning",message:"请打开手机定位开关，并允许网页定位，再使用此功能"});return;case"LONG_TIME_NOT_UPDATE":Co({title:"警告",message:"请勿使用模拟定位等作弊软件，本次行为已被记录，如果你确实在项目现场，可继续操作，未来公司会二次排查确认，确认要继续么？"});return}if(!o.value&&s.pathMoved()){qe({type:"warning",message:"请在原地稍等一会再拍照..."});return}qe({type:"success",message:"提交成功"})}return Pe().addEventListener("statusChange",()=>i("statusChange")),Pe().addEventListener("positionChangeEnd",()=>i("positionChange")),Pe().addEventListener("positionError",()=>i("positionError")),i("init"),(s,r)=>{const u=Dn,f=Ya,h=ro,g=ao,x=Je,I=Ka,A=ho;return Qn(),ei("div",Mo,[No,d(A,{inset:""},{default:be(()=>[d(I,null,{default:be(()=>[d(f,{title:"数据"},{default:be(()=>[d(u,{title:"状态",value:n.value.status,label:t[n.value.status],"title-style":"flex: 0 1 auto;"},null,8,["value","label"]),d(u,{title:"经度",value:n.value.longitude},null,8,["value"]),d(u,{title:"纬度",value:n.value.latitude},null,8,["value"]),d(u,{title:"海拔",value:n.value.altitude},null,8,["value"]),d(u,{title:"定位时间",value:Me(Po)(n.value.time).format("HH:mm:ss.SSS")},null,8,["value"]),d(u,{title:"已稳定",value:n.value.stableTime/1e3},{"right-icon":be(()=>[Lo]),_:1},8,["value"]),d(u,{title:"已稳定",value:n.value.stableCount},{"right-icon":be(()=>[Ro]),_:1},8,["value"]),d(u,{title:"轨迹点",value:n.value.pathLength},{"right-icon":be(()=>[zo]),_:1},8,["value"]),d(u,{title:"正在移动",value:String(n.value.pathMoved)},null,8,["value"])]),_:1}),d(f,{title:"模拟表单"},{default:be(()=>[d(u,{title:"状态",value:n.value.status,label:t[n.value.status],"title-style":"flex: 0 1 auto;"},null,8,["value","label"]),d(u,{title:"正在移动",value:String(n.value.pathMoved)},null,8,["value"]),d(g,{label:"允许移动提交"},{input:be(()=>[d(h,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=S=>o.value=S)},null,8,["modelValue"])]),_:1}),d(g,{label:"工作记录",modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=S=>a.value=S)},null,8,["modelValue"]),d(x,{class:"w-full",type:"primary",onClick:c},{default:be(()=>[on("提交")]),_:1})]),_:1})]),_:1})]),_:1}),Fo])}}};export{Go as default};
